(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["root"],{"13ac":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"page",staticClass:"page"},[e.isError?[a("div",{staticClass:"module error"},[a("h3",[e._v(e._s(e.info.api_uri))]),e._v(" "+e._s(e.errorInfo)+" ")])]:[a("header",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e.otherInterface.length<=1?a("el-breadcrumb-item",[e._v(e._s(e.info.api_module))]):a("el-breadcrumb-item",[a("el-dropdown",{attrs:{placement:"bottom-start"},on:{command:e.goInfo}},[a("span",[e._v(" "+e._s(e.info.api_module)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.otherInterface,(function(t,n){return a("el-dropdown-item",{key:n,attrs:{command:t.req,disabled:t.req==e.info.api_uri}},[e._v(e._s(t.summary))])})),1)],1)],1),a("el-breadcrumb-item",[e._v(e._s(e.info.api_name))])],1)],1),a("el-divider"),a("h3",{staticClass:"module title"},["GET"==e.info.method?a("el-tag",{attrs:{type:"success"}},[e._v("GET")]):a("el-tag",{attrs:{type:"default"}},[e._v("POST")]),a("span",{staticClass:"name"},[e._v(e._s(e.info.api_uri))]),a("el-button",{attrs:{type:"text",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.$route.params.name)}}},[e._v("复制")])],1),a("el-tabs",{staticClass:"doc-test-tabs",attrs:{type:"card"},model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}},[a("el-tab-pane",{attrs:{name:"doc"}},[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-document"}),e._v(" 文档 ")]),a("div",{staticClass:"module url"},[a("el-input",{attrs:{type:"text",readonly:""},model:{value:e.info.api_url,callback:function(t){e.$set(e.info,"api_url",t)},expression:"info.api_url"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-link"},on:{click:function(t){return e.openWindow(e.info.api_url)}},slot:"append"},[e._v("打开")]),a("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.info.api_url)}},slot:"append"},[e._v("复制")])],1)],1),a("div",{staticClass:"module request"},[e.info.request_param&&e.info.request_param.length>0?a("el-table",{attrs:{data:e.info.request_param,size:"small",stripe:"",border:"","default-expand-all":"","row-key":"id","tree-props":{children:"data",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"参数名","min-width":"7"},scopedSlots:e._u([{key:"default",fn:function(t){return a("el-link",{on:{click:function(a){return e.copy(t.row.name)}}},[e._v(e._s(t.row.name))])}}],null,!1,2288736616)}),a("el-table-column",{attrs:{label:"是否必须","header-align":"center",align:"center","min-width":"3"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.ismust?a("i",{staticClass:"el-icon-check"}):a("i",{staticClass:"el-icon-close"})]}}],null,!1,3175605545)}),a("el-table-column",{attrs:{label:"默认值","header-align":"center",align:"center","min-width":"4"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!==t.row.default?a("el-tag",{attrs:{size:"mini"},on:{click:function(a){return e.copy(t.row.default)}}},[e._v(e._s(t.row.default))]):a("span",[e._v("无")])]}}],null,!1,2138890189)}),a("el-table-column",{attrs:{label:"可选值说明","header-align":"center",align:"center","min-width":"4"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.list.length>0?a("el-popover",{attrs:{placement:"bottom",width:"300",trigger:"hover","popper-options":{boundariesElement:"body"}}},[a("el-table",{attrs:{data:t.row.list,size:"small",stripe:"",border:"","max-height":"200"}},[a("el-table-column",{attrs:{"min-width":"1",label:"可选值","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"mini"},on:{click:function(a){return e.copy(t.row.name)}}},[e._v(e._s(t.row.name))])]}}],null,!0)}),a("el-table-column",{attrs:{"min-width":"1",property:"value",label:"说明"}})],1),a("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[e._v("查看")])],1):a("span",[e._v("无")])]}}],null,!1,423743663)}),a("el-table-column",{attrs:{prop:"type",label:"类型","header-align":"center",align:"center","min-width":"3"}}),a("el-table-column",{attrs:{prop:"summary",label:"说明","min-width":"8"}})],1):a("span",[e._v("无")])],1),a("div",{staticClass:"module response"},[a("el-table",{attrs:{data:e.info.response_param,size:"small",stripe:"",border:"","default-expand-all":"","row-key":"id","tree-props":{children:"data",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"参数名","min-width":"10"},scopedSlots:e._u([{key:"default",fn:function(t){return a("el-link",{on:{click:function(a){return e.copy(t.row.name)}}},[e._v(e._s(t.row.name))])}}],null,!1,2288736616)}),a("el-table-column",{attrs:{prop:"type",label:"类型","header-align":"center",align:"center","min-width":"3"}}),a("el-table-column",{attrs:{label:"返回值说明","header-align":"center",align:"center","min-width":"3"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.list.length>0?a("el-popover",{attrs:{placement:"bottom",width:"300",trigger:"hover","popper-options":{boundariesElement:"body"}}},[a("el-table",{attrs:{data:t.row.list,size:"small",stripe:"",border:"","max-height":"200"}},[a("el-table-column",{attrs:{"min-width":"1",label:"返回值","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"mini"},on:{click:function(a){return e.copy(t.row.name)}}},[e._v(e._s(t.row.name))])]}}],null,!0)}),a("el-table-column",{attrs:{"min-width":"1",property:"value",label:"说明"}})],1),a("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[e._v("查看")])],1):a("span",[e._v("无")])]}}],null,!1,3664359843)}),a("el-table-column",{attrs:{prop:"summary",label:"说明","min-width":"9"}})],1)],1),e.info.json_string?a("div",{staticClass:"module json"},[a("codemirror",{attrs:{value:JSON.stringify(JSON.parse(e.info.json_string),null,"\t"),options:e.codemirrorOpt}})],1):e._e(),a("div",{staticClass:"module postman"},[a("el-input",{attrs:{type:"text",readonly:""},model:{value:e.info.test_url,callback:function(t){e.$set(e.info,"test_url",t)},expression:"info.test_url"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(e.info.test_url)}},slot:"append"},[e._v("复制")])],1),"POST"==e.info.method?a("div",{staticClass:"post-request"},[a("el-button",{attrs:{slot:"append",icon:"el-icon-document-copy",size:"small"},on:{click:e.copyPostTest},slot:"append"},[e._v("复制 POST 请求参数")]),a("div",{staticClass:"request"},e._l(e.info.post_test,(function(t,n){return a("div",{key:n,staticClass:"item"},[e._v(e._s(t)+":")])})),0)],1):e._e()],1)],2),a("el-tab-pane",{attrs:{name:"test"}},[a("template",{slot:"label"},[a("svg-icon",{attrs:{name:"test"}}),e._v(" 测试 ")],1),a("div",{staticClass:"module"},[e.test.requestParam.length>0?a("el-table",{attrs:{data:e.test.requestParam,size:"small",stripe:"",border:"","default-expand-all":"","row-key":"id","tree-props":{children:"data",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"参数名","min-width":"7"},scopedSlots:e._u([{key:"default",fn:function(t){return a("el-link",{on:{click:function(a){return e.copy(t.row.name)}}},[e._v(e._s(t.row.name))])}}],null,!1,2288736616)}),a("el-table-column",{attrs:{label:"是否必须","header-align":"center",align:"center","min-width":"3"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.ismust?a("i",{staticClass:"el-icon-check"}):a("i",{staticClass:"el-icon-close"})]}}],null,!1,3175605545)}),a("el-table-column",{attrs:{label:"值","header-align":"center",align:"center","min-width":"11"},scopedSlots:e._u([{key:"default",fn:function(t){return["array"!=t.row.type?[t.row.list?a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:!t.row.ismust,size:"small",placeholder:"请选择"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}},e._l(t.row.list,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.value))]),a("span",{staticStyle:{float:"right","padding-left":"20px",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.label))])])})),1):"datetime"==t.row.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",clearable:!t.row.ismust,size:"small",placeholder:"请选择"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}):"date"==t.row.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",clearable:!t.row.ismust,size:"small",placeholder:"请选择"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}):"time"==t.row.type?a("el-time-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"HH:mm:ss",clearable:"",size:"small",placeholder:"请选择"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}):"int"==t.row.type?a("el-input",{attrs:{type:"number",clearable:!t.row.ismust,size:"small"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}):a("el-input",{attrs:{clearable:!t.row.ismust,size:"small"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]:e._e(),"array"!=t.row.type||t.row.data?e._e():[a("el-input",{attrs:{clearable:!t.row.ismust,size:"small"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]]}}],null,!1,3843529568)}),a("el-table-column",{attrs:{prop:"summary",label:"说明","min-width":"8"}})],1):a("span",[e._v("无")])],1),a("div",{staticClass:"module"},[a("el-button",{attrs:{type:"primary",loading:e.test.loading,plain:""},on:{click:e.sendRequest}},[e._v("发送请求")])],1),"{}"!=JSON.stringify(e.test.responseParam)?a("div",{staticClass:"module response_result"},[a("el-tabs",{attrs:{value:"response",type:"border-card"}},[a("el-tab-pane",{attrs:{label:"响应",name:"response"}},["object"==typeof e.test.responseParam?a("codemirror",{attrs:{value:JSON.stringify(e.test.responseParam,null,"\t"),options:e.codemirrorOpt}}):a("codemirror",{attrs:{value:e.test.responseParam,options:e.codemirrorOpt2}})],1),"object"!=typeof e.test.responseParam?a("el-tab-pane",{attrs:{label:"预览",name:"preview"}},[a("div",{domProps:{innerHTML:e._s(e.test.responseParam)}})]):e._e()],1)],1):e._e()],2)],1)]],2)},l=[],r=(a("a15b"),a("d81d"),a("b0c0"),a("c458")),s=a("796d"),o=a.n(s),i={name:"Info",mixins:[r["a"]],data:function(){return{isError:!1,errorInfo:"",tabActive:"doc",codemirrorOpt:{mode:{name:"javascript",json:!0},tabSize:2,theme:"darcula",lineNumbers:!0,lineWrapping:!0,readOnly:!0},codemirrorOpt2:{mode:"htmlmixed",tabSize:2,theme:"darcula",lineNumbers:!0,lineWrapping:!0,readOnly:!0},info:{},test:{loading:!1,requestParam:[],responseParam:{}}}},computed:{otherInterface:function(){var e=this,t=[];return this.$store.state.global.interface.map((function(a){a.name==e.info.api_module&&(t=a.kind)})),t}},watch:{$route:"getInfo"},mounted:function(){this.getInfo()},beforeRouteLeave:function(e,t,a){this.$store.commit("global/setSubTitle",""),a()},methods:{reset:function(){this.tabActive="doc",this.test.requestParam=[],this.test.responseParam={}},recursiveAddUniqueId:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=1;""!=a&&(a+="-"),e.map((function(e){e.id=a+n,e.data&&t.recursiveAddUniqueId(e.data,e.id),n++}))},getInfo:function(){var e=this;this.reset();var t=this.$loading({target:this.$refs["page"],customClass:"custom-loading"});this.$api.get(decodeURIComponent(this.$route.params.name)).then((function(a){a.status?(e.isError=!0,e.info.api_uri=decodeURIComponent(e.$route.params.name),e.errorInfo=a.error):(e.isError=!1,e.info=a,e.recursiveAddUniqueId(e.info.request_param),e.recursiveAddUniqueId(e.info.response_param),e.test.requestParam=e.initTestRequestParam(e.info.request_param),e.recursiveAddUniqueId(e.test.requestParam),e.$store.commit("global/setSubTitle",e.info.api_name)),t.close()}))},initTestRequestParam:function(e){var t=this,a=[];return e.map((function(e){var n={name:e.name,type:e.type,summary:e.summary,ismust:e.ismust};e.list.length&&(n.list=[],e.list.map((function(e){n.list.push({value:e.name,label:e.value})}))),e.data?n.data=t.initTestRequestParam(e.data):n.value=e.default,a.push(n)})),a},goInfo:function(e){this.$router.push({name:"info",params:{name:e}})},openWindow:function(e){window.open(e,"_blank")},copy:function(e){var t=this;this.$copyText(e).then((function(){t.$message.success("复制成功")}))},copyPostTest:function(){var e=this,t=[];this.info.post_test.map((function(e){t.push("".concat(e,":"))})),this.$copyText(t.join("\n")).then((function(){e.$message.success("复制成功")}))},convertTestRequestParam:function(e){var t=this,a={};return e.map((function(e){"array"==e.type?e.data?a[e.name]=[t.convertTestRequestParam(e.data)]:(""!=e.value&&null!=e.value||e.ismust)&&(a[e.name]=[e.value]):(null==e.value&&console.log(e.value),(""!=e.value&&null!=e.value||e.ismust)&&(a[e.name]=e.value))})),a},sendRequest:function(){var e=this;this.test.loading=!0,this.test.responseParam={};var t=this.convertTestRequestParam(this.test.requestParam);"GET"==this.info.method?this.$api.get("../".concat(this.info.api_uri),{params:t,paramsSerializer:function(e){return o.a.stringify(e,{arrayFormat:"indices"})}}).then((function(t){e.test.loading=!1,e.test.responseParam=t})):this.$api.post("../".concat(this.info.api_uri),t).then((function(t){e.test.loading=!1,e.test.responseParam=t}))}}},c=i,u=(a("7b21"),a("2877")),d=Object(u["a"])(c,n,l,!1,null,"1c927b77",null);t["default"]=d.exports},"1d2f":function(e,t,a){},"1e4b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},e._l(e.$store.state.global.interface,(function(t,n){return a("div",{key:n,ref:t.name,refInFor:!0,staticClass:"module"},[a("h3",{staticClass:"title"},[e._v(e._s(t.name))]),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:t.kind,"show-header":!1,"empty-text":"暂无接口数据",stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"req",label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link",attrs:{to:{name:"info",params:{name:t.row.req}}}},[e._v(e._s(t.row.req))])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"summary",label:"名称",width:"300"}})],1)],1)])})),0)},l=[],r=(a("c975"),a("b0c0"),a("c458")),s={name:"Index",mixins:[r["a"]],beforeRouteEnter:function(e,t,a){a((function(e){e.$store.commit("keepAlive/add","Index")}))},beforeRouteLeave:function(e,t,a){["info"].indexOf(e.name)<0?this.$store.commit("keepAlive/remove","Index"):t.meta.scrollTop=document.body.scrollTop||document.documentElement.scrollTop,a()},activated:function(){var e=this;setTimeout((function(){document.body.scrollTop=e.$route.meta.scrollTop,document.documentElement.scrollTop=e.$route.meta.scrollTop}),0)}},o=s,i=(a("89ac"),a("2877")),c=Object(i["a"])(o,n,l,!1,null,"f21f1e64",null);t["default"]=c.exports},"4ac7":function(e,t,a){},"7b21":function(e,t,a){"use strict";var n=a("4ac7"),l=a.n(n);l.a},"89ac":function(e,t,a){"use strict";var n=a("1d2f"),l=a.n(n);l.a}}]);